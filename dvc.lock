schema: '2.0'
stages:
  structure_raw:
    cmd: python3 src/data/structure_raw.py
    deps:
    - path: data/raw/final
      md5: 6c3622ff98294a528208aece1e7ede8b.dir
      size: 21954635
      nfiles: 183
    - path: data/working_dataset.csv
      md5: 02086bf6991f01344eccc4aba1935f1e
      size: 4726
    - path: src/data/structure_raw.py
      md5: bd6b38b3e507debde6dee3cc44377811
      size: 3193
    outs:
    - path: data/raw_per_classes
      md5: f649d221b593c31f1d3a432966a87f42.dir
      size: 21954635
      nfiles: 183
  ingest:
    cmd: 'curl -X "POST" "http://localhost:8907/ingest" -H "accept: application/json"'
    deps:
    - path: data/raw_per_classes
      md5: f649d221b593c31f1d3a432966a87f42.dir
      size: 21954635
      nfiles: 183
    outs:
    - path: data/ocr_raw_per_classes
      md5: ff5eb92600b4ae1aebd4dd6e33148388.dir
      size: 174192
      nfiles: 183
  clean:
    cmd: 'curl -X "POST" "http://localhost:8907/clean" -H "accept: application/json"'
    deps:
    - path: data/ocr_raw_per_classes
      md5: ff5eb92600b4ae1aebd4dd6e33148388.dir
      size: 174192
      nfiles: 183
    outs:
    - path: data/cleaned_per_classes
      hash: md5
      md5: 3834a95098578c91ef075c017e9a7eb5.dir
      size: 113391
      nfiles: 3
  preprocessing:
    cmd: curl -X "GET" "http://localhost:8904/process"
    deps:
    - path: data/cleaned_per_classes
      hash: md5
      md5: 3834a95098578c91ef075c017e9a7eb5.dir
      size: 113391
      nfiles: 3
    outs:
    - path: data/processed
      hash: md5
      md5: 988df9cb44e06ffe90f241d2541b2d8a.dir
      size: 3121506
      nfiles: 4
    - path: models/vectorizers
      hash: md5
      md5: 9f02c46e4c5ca54d817ffb8d93890fe0.dir
      size: 2528267
      nfiles: 1
  train:
    cmd: curl -X "GET" "http://localhost:8905/train"
    deps:
    - path: data/processed/train
      hash: md5
      md5: 9ca87249686e49fe8aa7c376feb676aa.dir
      size: 2580253
      nfiles: 2
    outs:
    - path: models/train
      hash: md5
      md5: a5fb453fd118abd87c8bf8744b2f2ae3.dir
      size: 1682517
      nfiles: 1
  eval:
    cmd: curl -X "GET" "http://localhost:8906/eval"
    deps:
    - path: data/processed/test
      hash: md5
      md5: 42338e2cf8ac4d7cb7dc6eb07d230f1f.dir
      size: 541253
      nfiles: 2
    - path: models/train
      hash: md5
      md5: a5fb453fd118abd87c8bf8744b2f2ae3.dir
      size: 1682517
      nfiles: 1
    outs:
    - path: metrics/confusion_matrix.json
      hash: md5
      md5: f576bad495523900c31298f19bebfccf
      size: 75
    - path: metrics/scores.json
      hash: md5
      md5: fcc40d96c499c49894e03a6555f8e2b9
      size: 399
